{{ define "test-upload-single" }}
<div class="subheader">Upload a single test</div>
<form method="POST" action="/admin/problems/{{.ID}}/upload_single" class="form-block">
    <label class="text-sm block" for="name">Test name</label>
    <input class="form-input" type="text" required name="name" placeholder="01">
    <div class="p-1 text-sm text-gray-600">
        The test name needs to be unique inside its test group.
    </div>

    <label class="text-sm block" for="input">Input file</label>
    <input class="form-input" type="file" required name="input">

    <label class="text-sm block" for="output">Output file</label>
    <input class="form-input" type="file" required name="output">

    <div class="mt-2">
        <input required type="submit" class="form-btn  bg-green-200 hover:bg-green-300" value="Submit">
        <input required type="reset" class="form-btn  bg-red-200 hover:bg-red-300" value="Reset">
    </div>
</form>
{{ end }}

{{ define "test-upload-multiple" }}
<div class="subheader">Upload multiple tests</div>
<form method="POST" action="/admin/problems/{{.ID}}/upload_multiple" class="form-block">
    <label class="text-sm block" for="file">Test Archive (.zip)</label>
    <input class="form-input" type="file" accept=".zip" required name="file">

    <div class="grid grid-cols-2">
        <div class="pr-2">
            <label class="text-sm block" for="input">Input pattern</label>
            <input class="form-input w-full font-mono" type="text" required name="input" placeholder="input/?.txt">
        </div>
        <div class="pl-2">
            <label class="text-sm block" for="input">Output pattern</label>
            <input class="form-input w-full font-mono" type="text" required name="output" placeholder="output/?.txt">
        </div>
    </div>

    <div class="py-1 text-sm text-gray-600">
        kjudge will unzip the given file, look for pairs of files with the matching input/output patterns,
        and add them as a single test with name given as the filling
        <span class="font-mono">?</span> part.
        <p>For example,
            <span class="font-mono">input/a1.txt</span> and
            <span class="font-mono">output/a1.txt</span> would create a test
            named
            <span class="font-mono">01</span>.</p>
    </div>

    <input id="override-{{.ID}}" type="checkbox" name="override">
    <label for="override-{{.ID}}">Delete all tests inside the test group before adding.</label>

    <div class="mt-2">
        <input required type="submit" class="form-btn  bg-green-200 hover:bg-green-300" value="Submit">
        <input required type="reset" class="form-btn  bg-red-200 hover:bg-red-300" value="Reset">
    </div>
</form>
{{ end }}

{{ define "test-table" }}
<div class="grid grid-cols-3 gap-4">
    {{ range . }}
    {{ $link := printf "/admin/tests/%d" .ID }}
    <div class="p-1 rounded bg-gray-200">
        <a href="{{$link}}/input" class="cursor-pointer hover:text-green-600 my-1" title="Get the test's input">[i]</a>
        <a href="{{$link}}/output" class="cursor-pointer hover:text-green-600 my-1"
            title="Get the test's output">[o]</a>
        <form class="inline require-confirm" method="POST" action="{{$link}}/delete">
            <input class="cursor-pointer hover:text-red-600" value="[d]" title="Submit" title="Delete Test">
        </form>
    </div>
    {{ else }}
    <div class="text-center p-1 col-span-3">No tests</div>
    {{ end }}
</div>
{{ end }}
